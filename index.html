<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GE Healthcare × BeesLab | YOLO Labeler</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <div class="logo-group">
            <img src="GE_HealthCare_logo_2023.png" alt="GE Healthcare" class="logo">
            <img src="beeslab.png" alt="BeesLab" class="logo">
        </div>
        <h1>YOLO Crop Labeling Tool</h1>
    </div>

    <div class="container">
        <!-- Folder Selector (Only shown if no images loaded) -->
        <div id="folderSelector" class="welcome-card">
            <h2>Select Image Folder</h2>
            <p>Drag & drop folder or click below</p>
            <input type="file" id="folderInput" webkitdirectory directory multiple style="display:none">
            <button id="browseBtn">Browse Folder</button>
            <button id="useDefaultBtn">Use /images folder (GitHub)</button>
        </div>

        <!-- Progress -->
        <div id="progress">Loading images...</div>

        <!-- Main Labeling Area -->
        <div id="mainArea" class="hidden">
            <div class="main-area">
                <div class="image-section">
                    <div id="imageContainer">
                        <img id="currentImage" src="" alt="Crop">
                        <div id="filename"></div>
                    </div>
                    <div class="nav-buttons">
                        <button id="prevBtn">Previous</button>
                        <button id="nextBtn">Next</button>
                    </div>
                    <div class="keyboard-hint">
                        ← → or Space • 1=Garbage 2=Normal 3=Atypical 4=Discard • <a href="#" id="changeFolder">Change Folder</a>
                    </div>
                </div>
                <div class="button-section">
                    <button class="label-btn garbage"><span class="num">1</span> Garbage</button>
                    <button class="label-btn normal"><span class="num">2</span> Normal</button>
                    <button class="label-btn atypical"><span class="num">3</span> Atypical</button>
                    <button class="label-btn discard"><span class="num">4</span> Discard</button>
                    <button id="downloadBtn">Download Labels</button>
                </div>
            </div>
        </div>

        <div id="doneMessage" class="hidden">
            <h2>All Done!</h2>
            <p><strong><span id="labeledCount">0</span></strong> images labeled</p>
            <button id="downloadFinal">Download JSON</button>
            <button id="newFolderBtn">Label Another Folder</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>